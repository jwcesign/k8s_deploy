apiVersion: v1
kind: Pod
metadata:
  name: etcd
  labels:
    name: etcd
spec:
  containers:
  - command:
    - sh
    - -c
    - "etcd --advertise-client-urls=http://host_ip:2379 --listen-client-urls=http://0.0.0.0:2379 --data-dir=/var/lib/etcd 2>&1 > /var/log/etcd.log"
    name: etcd
    image: docker.io/etcd:3.2
    volumeMounts:
    - mountPath: /var/lib/etcd
      name: etcd-data
    - mountPath: /var/log/
      name: log
  volumes:
  - hostPath:
      path: /var/lib/etcd
      type: DirectoryOrCreate
    name: etcd-data
  - hostPath:
      path: /home/log/
      type: DirectoryOrCreate
    name: log
  hostNetwork: true